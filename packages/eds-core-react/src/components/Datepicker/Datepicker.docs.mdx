import { Canvas, Controls, Meta, Primary } from '@storybook/blocks'

import * as ComponentStories from './DatePicker.stories'
import { Links } from '../../../.storybook/components'

<Meta of={ComponentStories} />

<Links
  documentationUrl="https://eds.equinor.com/0b0c666ab/p/07b531-datetime-picker/b/86826a"
  sourceUrl="https://github.com/equinor/design-system/blob/develop/packages/eds-core-react/src/components/Datepicker/DatePicker.tsx"
  npmUrl="https://www.npmjs.com/package/@equinor/eds-core-react"
/>

# DatePicker

Datepicker for selecting a single date, built on [react-aria](https://react-spectrum.adobe.com/react-aria)'s date/time hooks.

<Primary />
<Controls />

## Usage

### Custom display format

In some cases it's useful to display the date in a different format than the default. This can be done by passing a `formatOptions` prop, which uses the [Intl.DateTimeFormat](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/DateTimeFormat) options.

For example, to display the date as `dd MMMM yyyy`:
```
<DatePicker
  formatOptions={{ day: '2-digit', month: 'long', year: 'numeric' }} />
```

<Canvas of={ComponentStories.CustomDisplayFormat} />

### Custom locale

In some cases it's useful to display the date in a different locale than the default, e.g. if your app has a locale-picker.
Currently the locale is selected on a priority basis:
* The locale passed to the DatePicker component as a prop: `<DatePicker locale="en-US" />`
* The locale defined in react-aria's `I18nProvider`:
```
<I18nProvider locale={'en-US'}>
  <DatePicker />
</I18nProvider>
```
* The locale resolved from your system setup (`Intl.DateTimeFormat().resolvedOptions().locale`)

<Canvas of={ComponentStories.CustomLocale} />

### Min / Max values

Limits on min/max can be set to restrict the dates that can be selected. In this example, it's set as the current month excluding first/last date

```
<DatePicker
  minValue={new Date(...)}
  maxValue={new Date(...)} />
```

<Canvas of={ComponentStories.WithMinAndMaxValue} />

### Disable specific days

In this example, we disable saturday + sunday

```
const isDateUnavailable = (d: Date) => d.getDay() === 0 || d.getDay() === 6
<DatePicker isDateUnavailable={isDateUnavailable} />
```

<Canvas of={ComponentStories.LimitSpecificDays} />

### DateTime

<Canvas of={ComponentStories.DateTime} />

### Custom header / footer

<Canvas of={ComponentStories.CustomHeaderFooter} />
