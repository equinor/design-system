import { Links } from './../../../../.storybook/components'
import { Primary, Canvas, Controls, Meta } from '@storybook/addon-docs/blocks'
import * as ComponentStories from './Switch.stories'

<Meta of={ComponentStories} />

# Switch

**⚠️ Beta Component** - This component is under active development and may have breaking changes.

```bash
npm install @equinor/eds-core-react@beta
```

```tsx
import { Switch } from '@equinor/eds-core-react/next'
```

Use switches to instantly toggle a single setting on or off, applying changes immediately.

<Links
  ariaUrl="https://www.w3.org/WAI/ARIA/apg/patterns/switch/"
  sourceUrl="https://github.com/equinor/design-system/blob/develop/packages/eds-core-react/src/components/next/Switch/Switch.tsx"
  npmUrl="https://www.npmjs.com/package/@equinor/eds-core-react"
/>

<Primary />
<Controls />

## Usage

```tsx
import { Switch } from '@equinor/eds-core-react/next'

<Switch label="Enable notifications" />
```

&nbsp;

## Examples

### States

<Canvas of={ComponentStories.States} />

### Dark mode

<Canvas of={ComponentStories.DarkMode} />

### Density

Use `data-density="comfortable"` on a parent element for a more compact size.

<Canvas of={ComponentStories.Density} />

## Accessibility

The Switch component requires a visible `label` prop which provides the accessible name automatically.

### Status announcements

If toggling triggers an important status change, announce it with an `aria-live` region:

```tsx
<Switch
  label="Auto-save"
  onChange={(e) => {
    setAutoSave(e.target.checked)
    setStatus(e.target.checked ? 'Auto-save enabled' : 'Auto-save disabled')
  }}
/>
<div aria-live="polite" className="visually-hidden">
  {status}
</div>
```
