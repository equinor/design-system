import { Links } from './../../../.storybook/components'
import { Primary, Canvas, Controls, Meta } from '@storybook/addon-docs/blocks'
import * as ComponentStories from './Input.new.stories'

<Meta of={ComponentStories} />

# Input (EDS 2.0)

**New version** of the Input component using vanilla CSS and EDS 2.0 tokens.

This component uses the **dynamic color approach** from `@equinor/eds-tokens`, allowing semantic context changes via the `data-color-appearance` attribute without modifying component code.

Intended to use if you need more flexibility than the wrapped TextField or select components give.

<Links 
    ariaUrl="https://www.w3.org/TR/wai-aria-1.1/#input"
    sourceUrl="https://github.com/equinor/design-system/blob/develop/packages/eds-core-react/src/components/Input/Input.new.tsx"
    npmUrl="https://www.npmjs.com/package/@equinor/eds-core-react"
/>

<Primary />
<Controls />

## Usage

```tsx
import { InputNew } from '@equinor/eds-core-react'

<InputNew />
```

> **Note:** This component is functionally identical to the original `Input` but uses vanilla CSS with EDS 2.0 tokens instead of styled-components. Teams can migrate gradually by importing `InputNew` instead of `Input`.

### EDS 2.0 Token System

This component uses the **EDS 2.0 token system** with fixed spacing values:
* **Size:** XS (8px horizontal padding)
* **Proportions:** Stretched (50% more vertical padding)
* **Font size:** LG (16px)

Control the visual state using the `variant` prop:

```tsx
{/* Default - neutral appearance */}
<InputNew />

{/* Different variants */}
<InputNew variant="success" />  {/* Green outline */}
<InputNew variant="warning" />  {/* Orange outline */}
<InputNew variant="error" />    {/* Red outline */}
```

### Density

The component respects the parent's `data-density` attribute for overall spacing density:

* **spacious** - Default, more comfortable spacing
* **comfortable** - More compact spacing

Wrap the input in a container with `data-density` or use `EdsProvider`:

```tsx
{/* Spacious (default) */}
<div>
  <InputNew />
</div>

{/* Comfortable */}
<div data-density="comfortable">
  <InputNew />
</div>

{/* With EdsProvider */}
<EdsProvider density="comfortable">
  <InputNew />
</EdsProvider>
```

## Examples

### Types

This is the native type property and here is a small selection of examples of all the possible types.

<Canvas of={ComponentStories.Types} />

### Variants

<Canvas of={ComponentStories.Variants} />

### Disabled

<Canvas of={ComponentStories.Disabled} />

### Read only

<Canvas of={ComponentStories.ReadOnly} />

### Accessiblity

It's important to link the `Input` to the corresponding label.

<Canvas of={ComponentStories.Accessiblity} />

### Density

Demonstrates spacious (default) and comfortable density modes using the `data-density` attribute.

<Canvas of={ComponentStories.Compact} />

### With Adornments

<Canvas of={ComponentStories.WithAdornments} />

### Casted as textarea

<Canvas of={ComponentStories.Casted} />

### Override input background color

Use the EDS 2.0 token `--eds-color-bg-input` to change the background color of the input field.

<Canvas of={ComponentStories.OverrideBackground} />

## Migration from Input

Replace the import:

```tsx
// Before
import { Input } from '@equinor/eds-core-react'

// After
import { InputNew } from '@equinor/eds-core-react'
// Or rename during import
import { InputNew as Input } from '@equinor/eds-core-react'
```

All props remain the same, so no code changes are needed beyond the import statement.

### Key Differences

* **Styling:** Vanilla CSS with CSS custom properties instead of styled-components
* **Tokens:** Uses EDS 2.0 color and spacing tokens from `@equinor/eds-tokens`
* **Spacing:** Fixed spacing values (XS size + stretched proportions) aligned with Figma design
* **Density:** Respects parent `data-density` attribute for comfortable/spacious modes
* **Performance:** Lighter bundle size without styled-components runtime
