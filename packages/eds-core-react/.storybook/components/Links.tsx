import { Button } from '../../src'
import { Stack } from './Stack'
import { Unstyled } from '@storybook/blocks'

const FigmaIcon = () => (
  <svg
    width="1rem"
    height="1rem"
    viewBox="0 0 288 432"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <rect
      width="95.0226"
      height="142.534"
      fill="black"
      fillOpacity="0"
      transform="translate(1.46603 2.19946) scale(3)"
    />
    <path
      d="M144 216C144 176.641 175.907 144.733 215.267 144.733V144.733C254.626 144.733 286.534 176.641 286.534 216V216C286.534 255.36 254.626 287.267 215.267 287.267V287.267C175.907 287.267 144 255.36 144 216V216Z"
      fill="#1ABCFE"
    />
    <path
      d="M1.46603 358.534C1.46603 319.175 33.3733 287.267 72.733 287.267H144V358.534C144 397.894 112.093 429.801 72.733 429.801V429.801C33.3733 429.801 1.46603 397.894 1.46603 358.534V358.534Z"
      fill="#0ACF83"
    />
    <path
      d="M144 2.19946V144.733H215.267C254.627 144.733 286.534 112.826 286.534 73.4664V73.4664C286.534 34.1068 254.627 2.19946 215.267 2.19946L144 2.19946Z"
      fill="#FF7262"
    />
    <path
      d="M1.46603 73.4664C1.46603 112.826 33.3733 144.733 72.733 144.733L144 144.733L144 2.19941L72.733 2.19941C33.3733 2.19941 1.46603 34.1067 1.46603 73.4664V73.4664Z"
      fill="#F24E1E"
    />
    <path
      d="M1.46603 216C1.46603 255.36 33.3733 287.267 72.733 287.267H144L144 144.733L72.733 144.733C33.3733 144.733 1.46603 176.641 1.46603 216V216Z"
      fill="#A259FF"
    />
  </svg>
)

const W3cIcon = () => (
  <svg width="1rem" height="1rem" viewBox="0 0 154 103">
    <rect x="0" y="0" width="154" height="103" fill="#1a5e9a" />
    <g transform="translate(0 12.5)">
      <g>
        <path
          fill="#FFFFFF"
          d="M100.383,38.538c-2.512-4.137-6.217-6.994-11.107-8.563l13.933-24V1.366H76.076h-9.584H66.2L52.548,47.757    L38.905,1.366h-9.886l4.52,15.153l-9.227,31.238L10.665,1.366H0.782L23.37,77.59h0.942l14.117-47.236L52.548,77.59h0.94    l19.341-65.265l0.909-1.547h15.917L76.467,33.545v4.518h3.772c4.836,0,8.373,1.475,10.636,4.426    c1.945,2.506,2.915,6.051,2.915,10.631c0,4.143-0.907,7.688-2.726,10.635c-1.819,2.951-4.047,4.42-6.683,4.42    c-2.506,0-4.692-0.829-6.547-2.491c-1.847-1.659-3.344-3.935-4.47-6.815l-7.722,3.193c1.566,4.77,3.986,8.547,7.247,11.34    c3.259,2.788,7.097,4.188,11.491,4.188c5.828,0,10.581-2.354,14.252-7.057c3.674-4.704,5.517-10.512,5.517-17.413    C104.15,47.537,102.889,42.673,100.383,38.538z"
        />
        <g>
          <path
            fill="#FFFFFF"
            d="M142.451,0.939l1.606,9.73l-5.677,10.841c0,0-2.176-4.603-5.783-7.148     c-3.045-2.145-5.034-2.611-8.131-1.969c-3.987,0.822-8.507,5.582-10.477,11.454c-2.363,7.028-2.383,10.427-2.462,13.552     c-0.133,5.002,0.655,7.963,0.655,7.963s-3.438-6.36-3.407-15.682c0.028-6.652,1.069-12.689,4.141-18.643     c2.713-5.229,6.742-8.372,10.316-8.744c3.692-0.384,6.616,1.398,8.875,3.325c2.366,2.021,4.756,6.446,4.756,6.446L142.451,0.939z     "
          />
          <path
            fill="#FFFFFF"
            d="M143.151,55.996c0,0-2.511,4.474-4.068,6.201c-1.563,1.722-4.351,4.765-7.799,6.281     c-3.454,1.517-5.258,1.806-8.671,1.479c-3.404-0.327-6.571-2.296-7.681-3.121c-1.106-0.822-3.936-3.248-5.537-5.5     c-1.604-2.262-4.109-6.777-4.109-6.777s1.392,4.527,2.27,6.447c0.502,1.104,2.048,4.482,4.239,7.427     c2.038,2.754,6.011,7.477,12.052,8.544c6.041,1.064,10.186-1.644,11.211-2.298c1.025-0.656,3.19-2.472,4.558-3.936     c1.431-1.526,2.782-3.477,3.536-4.645c0.552-0.856,1.439-2.59,1.439-2.59L143.151,55.996z"
          />
          <path
            fillRule="evenodd"
            clipRule="evenodd"
            fill="#FFFFFF"
            d="M149.896,2.222c0.654,0,0.957,0.184,0.957,0.639     c0,0.436-0.303,0.593-0.938,0.593h-0.593V2.222H149.896L149.896,2.222z M150.022,1.768h-1.401v3.72h0.7V3.901h0.691l0.758,1.586     h0.781l-0.828-1.697c0.537-0.108,0.848-0.473,0.848-1.002C151.571,2.113,151.061,1.768,150.022,1.768L150.022,1.768z      M152.781,3.718c0,0.758-0.291,1.46-0.828,1.978c-0.563,0.548-1.265,0.839-2.039,0.839c-0.729,0-1.447-0.3-1.986-0.847     c-0.537-0.548-0.836-1.249-0.836-1.996c0-0.749,0.311-1.478,0.865-2.042c0.52-0.53,1.22-0.813,1.983-0.813     c0.783,0,1.485,0.292,2.032,0.849C152.5,2.214,152.781,2.926,152.781,3.718L152.781,3.718z M149.932,0.411     c-0.885,0-1.676,0.316-2.276,0.929c-0.636,0.649-0.992,1.486-0.992,2.352c0,0.867,0.337,1.667,0.956,2.295     c0.628,0.639,1.44,0.983,2.312,0.983c0.856,0,1.684-0.344,2.331-0.973c0.62-0.601,0.956-1.403,0.956-2.305     c0-0.876-0.347-1.697-0.948-2.307C151.645,0.746,150.825,0.411,149.932,0.411L149.932,0.411z"
          />
        </g>
      </g>
    </g>
  </svg>
)

const NpmIcon = () => (
  <svg
    preserveAspectRatio="xMidYMid"
    viewBox="0 0 256 256"
    xmlns="http://www.w3.org/2000/svg"
    width="1rem"
    height="1rem"
  >
    <path d="M0 256V0h256v256z" fill="#C12127"></path>
    <path d="M48 48h160v160h-32V80h-48v128H48z" fill="#FFF"></path>
  </svg>
)

const GithubIcon = () => (
  <svg
    width="1rem"
    height="1rem"
    viewBox="0 0 24 24"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path d="M10.9 2.1c-4.6.5-8.3 4.2-8.8 8.7-.5 4.7 2.2 8.9 6.3 10.5.3.1.6-.1.6-.5v-1.6s-.4.1-.9.1c-1.4 0-2-1.2-2.1-1.9-.1-.4-.3-.7-.6-1-.3-.1-.4-.1-.4-.2 0-.2.3-.2.4-.2.6 0 1.1.7 1.3 1 .5.8 1.1 1 1.4 1 .4 0 .7-.1.9-.2.1-.7.4-1.4 1-1.8-2.3-.5-4-1.8-4-4 0-1.1.5-2.2 1.2-3-.1-.2-.2-.7-.2-1.4 0-.4 0-1 .3-1.6 0 0 1.4 0 2.8 1.3.5-.2 1.2-.3 1.9-.3s1.4.1 2 .3C15.3 6 16.8 6 16.8 6c.2.6.2 1.2.2 1.6 0 .8-.1 1.2-.2 1.4.7.8 1.2 1.8 1.2 3 0 2.2-1.7 3.5-4 4 .6.5 1 1.4 1 2.3v2.6c0 .3.3.6.7.5 3.7-1.5 6.3-5.1 6.3-9.3 0-6-5.1-10.7-11.1-10z" />
  </svg>
)

const NpmLink = ({ url }: { url: string }) => {
  if (!url) return null

  const [, packageName] = /package\/(.*)/g.exec(url)

  return (
    <Button variant="ghost" as="a" href={url}>
      <NpmIcon />
      <span>{packageName}</span>
    </Button>
  )
}

type LinksProps = {
  figmaUrl?: string
  ariaUrl?: string
  documentationUrl?: string
  npmUrl?: string
  sourceUrl?: string
}

export const Links = ({
  ariaUrl,
  figmaUrl,
  documentationUrl,
  npmUrl,
  sourceUrl,
}: LinksProps) => (
  <Unstyled>
    <Stack style={{ justifyContent: 'flex-start' }}>
      {ariaUrl && (
        <Button variant="ghost" as="a" href={ariaUrl}>
          <W3cIcon />
          WAI-ARIA
        </Button>
      )}
      {figmaUrl && (
        <Button variant="ghost" as="a" href={figmaUrl}>
          <FigmaIcon />
          <span>Figma</span>
        </Button>
      )}
      {documentationUrl && (
        <Button variant="ghost" as="a" href={documentationUrl}>
          üìù &nbsp;Documentation
        </Button>
      )}
      {npmUrl && <NpmLink url={npmUrl} />}
      {sourceUrl && (
        <Button variant="ghost" as="a" href={sourceUrl}>
          <GithubIcon />
          <span>Github</span>
        </Button>
      )}
    </Stack>
  </Unstyled>
)
