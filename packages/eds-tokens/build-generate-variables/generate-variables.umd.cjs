(function(p,E){typeof exports=="object"&&typeof module<"u"?E(exports,require("style-dictionary-utils"),require("@equinor/eds-tokens-build"),require("path"),require("os"),require("fs")):typeof define=="function"&&define.amd?define(["exports","style-dictionary-utils","@equinor/eds-tokens-build","path","os","fs"],E):(p=typeof globalThis<"u"?globalThis:p||self,E(p["generate-variables"]={},p.styleDictionaryUtils,p.edsTokensBuild,p.path,p.os,p.fs))})(this,(function(p,E,j,o,Z,C){"use strict";const w="cpNchKjiIM19dPqTxE0fqg",S="FQQqyumcpPQoiFRCjdS9GM",y="spacing/",A="typography/";async function g({source:a,include:c=[],buildPath:l,destination:s,selector:F=":root",prefix:d="eds",transforms:L,filter:r,outputReferences:u=!0,rootName:f,tsBuildPath:P}){const _={css:{transformGroup:"css",prefix:d,buildPath:l,transforms:L,files:[{filter:r,destination:s,format:"css/variables",options:{selector:F,outputReferences:u}}]}};if(f&&P){const T=s.replace(/\.css$/,".ts");_.tsNested={buildPath:P,files:[{filter:r,destination:T,format:"typescript/nested",options:{rootName:f}}]}}await new E.StyleDictionary({include:c,source:a,platforms:_,...f&&{hooks:{formats:{"typescript/nested":j.typescriptNestedFormat}}}}).buildAllPlatforms()}async function G({source:a,include:c=[],jsBuildPath:l,jsonBuildPath:s,cssBuildPath:F,tsBuildPath:d,transforms:L,prefix:r="eds",filter:u,name:f,selector:P,rootName:_}){const I={ts:{transforms:["name/constant"],buildPath:l,files:[{filter:u,destination:`spacing/${f}.js`,format:"javascript/es6"},{filter:u,format:"typescript/es6-declarations",destination:`spacing/${f}.d.ts`}]},json:{buildPath:s,transforms:["name/kebab"],files:[{filter:u,destination:`spacing/flat/${f}.json`,format:"json/flat"},{filter:u,destination:`spacing/nested/${f}.json`,format:"json/nested"}]},css:{transformGroup:"css",prefix:r,buildPath:o.join(F,y),transforms:L,files:[{filter:u,destination:`${f}.css`,format:"css/variables",options:{selector:P,outputReferences:!1}}]}};d&&(I.tsNested={buildPath:d,files:[{filter:u,destination:`${f}.ts`,format:"typescript/nested",options:{rootName:_}}]}),await new E.StyleDictionary({include:c,source:a,platforms:I,hooks:{formats:{"typescript/nested":j.typescriptNestedFormat}}}).buildAllPlatforms()}function J(){const a=["none","4xs","3xs","2xs","xs","sm","md","lg","xl","2xl","3xl"],c=["xs","sm","md","lg","xl"],l=["squished","squared","stretched"],s=r=>({$type:"number",$value:r}),F=()=>Object.fromEntries(a.map(r=>[r,{horizontal:s(r==="none"?0:`{spacing.horizontal.${r}}`),vertical:s(r==="none"?0:`{spacing.vertical.${r}}`)}])),d=()=>Object.fromEntries(l.map(r=>[r,Object.fromEntries(c.map(u=>[u,{horizontal:s(`{spacing.inset.${u}.horizontal}`),vertical:s(`{spacing.inset.${u}.vertical-${r}}`)}]))])),L=()=>Object.fromEntries(c.map(r=>[r,{horizontal:s(`{spacing.inset.${r}.horizontal}`),vertical:s(`{spacing.inset.${r}.vertical-squared}`)}]));return{generic:{gap:F(),space:F()},"spacing-proportions":d(),"selectable-space":L(),"container-space":{horizontal:s("{spacing.inset.md.horizontal}"),vertical:s("{spacing.inset.md.vertical-squared}")},"page-space":{horizontal:s("{spacing.inset.xl.horizontal}"),vertical:s("{spacing.inset.xl.vertical-squared}")}}}async function B({tokensDir:a,cssBuildPath:c,cssTransforms:l}){const s=o.join(a,w,"üëæ Primitives.Value.json"),F=o.join(a,w,"‚õîÔ∏è Figma.Value.json"),d=o.join(a,S,"üíé Density.Spacious.json"),L=o.join(a,S,"üíé Density.Comfortable.json"),r=o.resolve(process.cwd(),"build"),u=o.join(r,"js"),f=o.join(r,"json"),P=o.join(r,"ts",y),_=o.join(r,"ts",A),I=await C.promises.readdir(P).catch(()=>[]);for(const e of I)e.endsWith(".ts")&&e!=="spacious.ts"&&e!=="comfortable.ts"&&e!=="index.ts"&&await C.promises.unlink(o.join(P,e));const T=J(),N=o.join(Z.tmpdir(),"eds-aggregated-spacing.json");await C.promises.writeFile(N,JSON.stringify(T,null,2));const eo=["documentation","padding-centred","padding-baselined","cap-height","cap-rounded"],v=e=>n=>{const i=n.name.toLowerCase();return eo.some($=>i.includes($))||i.includes("-container")&&!i.startsWith("container-space")?!1:n.filePath.includes(e)||n.filePath.includes("eds-aggregated-spacing")},no=v("Spacious"),to=v("Comfortable");await G({source:[d,N],include:[s,F],jsBuildPath:u,jsonBuildPath:f,cssBuildPath:c,transforms:l,filter:no,name:"spacious",selector:':root, [data-density="spacious"]',rootName:"spacing",tsBuildPath:P}),await G({source:[L,N],include:[s,F],jsBuildPath:u,jsonBuildPath:f,cssBuildPath:c,transforms:l,filter:to,name:"comfortable",selector:'[data-density="comfortable"]',rootName:"spacing",tsBuildPath:P}),await C.promises.unlink(N);const io=["/**"," * Do not edit directly, this file was auto-generated."," */","","export { spacing as spacious } from './spacious'","export { spacing as comfortable } from './comfortable'",""].join(`
`);await C.promises.writeFile(o.join(P,"index.ts"),io);const b=o.join(a,w,"‚õîÔ∏è Figma.Value.json"),M=o.join(a,S,"ü™ê Space proportions.Squared.json"),so=o.join(a,S,"üó£Ô∏è Semantic.Mode 1.json"),z=o.join(a,S,"ü™ê Container space.Default.json"),q=o.join(a,S,"ü™ê Page space.Default.json"),t=o.join(a,S),ao=[o.join(t,"ü™ê Container space.Default.json"),o.join(t,"ü™ê Page space.Default.json"),o.join(t,"ü™ê Selectable space.XS.json"),o.join(t,"ü™ê Selectable space.SM.json"),o.join(t,"ü™ê Selectable space.MD.json"),o.join(t,"ü™ê Selectable space.LG.json"),o.join(t,"ü™ê Selectable space.XL.json"),o.join(t,"ü™ê Space proportions.Squared.json"),o.join(t,"ü™ê Space proportions.Squished.json"),o.join(t,"ü™ê Space proportions.Stretched.json")],O=o.join(t,"üÖ∞Ô∏è Font size.XS.json"),R=o.join(t,"üÖ∞Ô∏è Font family.UI Body.json"),x=[o.join(t,"üÖ∞Ô∏è Font family.Header.json"),o.join(t,"üÖ∞Ô∏è Font family.UI and Body.json"),o.join(t,"üÖ∞Ô∏è Font family.UI Body.json")],ro=o.join(t,"üÖ∞Ô∏è Font weight.Normal.json"),co=o.join(t,"üÖ∞Ô∏è Font baseline.Centred.json"),lo=o.join(t,"üÖ∞Ô∏è Tracking.Normal.json"),uo=o.join(t,"üÖ∞Ô∏è Line height.Default.json"),po=o.join(t,"„Ä∞Ô∏è Stroke.Thin.json"),jo=o.join(t,"‚≠ïÔ∏è Border radius.Rounded.json"),fo=o.join(t,"üñºÔ∏è Icon size.XS.json"),go=o.join(t,"üìê Size.XS.json"),H=o.join(t,"ü™ê Horizontal gap.XS.json"),Y=o.join(t,"ü™ê Vertical gap.XS.json"),mo=o.join(t,"ü™ê Horizontal space.XS.json"),So=o.join(t,"ü™ê Vertical space.XS.json"),Eo=["Squished","Squared","Stretched"];await Promise.all(Eo.map(e=>{const n=e.toLowerCase(),i=o.join(a,S,`ü™ê Space proportions.${e}.json`),$=e==="Squared"?':root, [data-space-proportions="squared"]':`[data-space-proportions="${n}"]`;return g({include:[s,b,d,H,Y],source:[i,z,q],buildPath:o.join(c,y),transforms:l,destination:`space-proportions-${n}.css`,selector:$,filter:m=>!!(j.includeTokenFilter(m,[e])||m.path&&m.path[0]==="Container"&&m.path[1]==="Spacing"||m.path&&m.path[0]==="Page"&&m.path[1]==="Spacing")})}));const Po=["XS","SM","MD","LG","XL"];await Promise.all(Po.map(e=>{const n=e.toLowerCase(),i=o.join(a,S,`ü™ê Selectable space.${e}.json`),$=e==="XS"?':root, [data-selectable-space="xs"]':`[data-selectable-space="${n}"]`;return g({include:[s,b,d,M],source:[i],buildPath:o.join(c,y),transforms:l,destination:`selectable-space-${n}.css`,selector:$,filter:m=>j.includeTokenFilter(m,[e])})}));const _o=["None","4XS","3XS","2XS","XS","SM","MD","LG","XL","2XL","3XL"],V=async(e,n)=>{const i=n.toLowerCase(),$=o.join(a,S,`ü™ê Horizontal ${e}.${n}.json`),m=o.join(a,S,`ü™ê Vertical ${e}.${n}.json`),Q=n==="XS"?`:root, [data-horizontal-${e}="xs"]`:`[data-horizontal-${e}="${i}"]`,No=n==="XS"?`:root, [data-vertical-${e}="xs"]`:`[data-vertical-${e}="${i}"]`,W=[s,b,d];await g({include:W,source:[$],buildPath:o.join(c,y),transforms:l,destination:`generic-${e}-horizontal-${i}.css`,selector:Q,filter:h=>!!(h.path&&h.path[0]===`generic-${e}-horizontal`)}),await g({include:W,source:[m],buildPath:o.join(c,y),transforms:l,destination:`generic-${e}-vertical-${i}.css`,selector:No,filter:h=>!!(h.path&&h.path[0]===`generic-${e}-vertical`)})};await Promise.all(_o.flatMap(e=>[V("gap",e),V("space",e)]));const K=[s,b,d,M];await g({include:K,source:[z],buildPath:o.join(c,y),transforms:l,destination:"container-space.css",selector:":root, [data-space-proportions]",filter:e=>!!(e.path&&e.path[0]==="container-space")}),await g({include:K,source:[q],buildPath:o.join(c,y),transforms:l,destination:"page-space.css",selector:":root, [data-space-proportions]",filter:e=>!!(e.path&&e.path[0]==="page-space")}),await g({include:[s,b,d,L,po,jo,fo,go,...ao,...x,O,ro,co,lo,uo,H,Y,mo,So],source:[so],buildPath:o.join(c,y),transforms:l,destination:"semantic-spacing-gap.css",filter:e=>{if(!e.path)return!1;const n=e.path[0],i=e.path[1];return n==="Selectable"&&(i==="Gap horizontal"||i==="Gap vertical")||n==="Container"&&(i==="Gap horizontal"||i==="Gap vertical")||n==="Page"&&(i==="Gap horizontal"||i==="Gap vertical")}});const bo=[{mode:"Header",slug:"header"},{mode:"UI Body",slug:"ui"}],yo=["XS","SM","MD","LG","XL","2XL","3XL","4XL","5XL","6XL"],Fo=[{mode:"Lighter",slug:"lighter"},{mode:"Normal",slug:"normal"},{mode:"Bolder",slug:"bolder"}],Lo=[{mode:"Default",slug:"default"},{mode:"Squished",slug:"squished"}],$o=[{mode:"Tight",slug:"tight"},{mode:"Normal",slug:"normal"},{mode:"Wide",slug:"wide"},{mode:"Loose",slug:"loose"}],Ao=bo.map(({mode:e,slug:n})=>g({include:[s,b,d],source:[o.join(t,`üÖ∞Ô∏è Font family.${e}.json`)],buildPath:o.join(c,A),transforms:l,destination:`font-family-${n}.css`,selector:`[data-font-family="${n}"]`,filter:i=>j.includeTokenFilter(i,[e]),rootName:"typography",tsBuildPath:_})),Co=yo.map(e=>g({include:[s,b,d,...x],source:[o.join(t,`üÖ∞Ô∏è Font size.${e}.json`)],buildPath:o.join(c,A),transforms:l,destination:`font-size-${e.toLowerCase()}.css`,selector:`[data-font-size="${e.toLowerCase()}"]`,filter:n=>j.includeTokenFilter(n,["Font size",e]),rootName:"typography",tsBuildPath:_})),Io=Fo.map(({mode:e,slug:n})=>g({include:[s,b,d,R,O],source:[o.join(t,`üÖ∞Ô∏è Font weight.${e}.json`)],buildPath:o.join(c,A),transforms:l,destination:`font-weight-${n}.css`,selector:`[data-font-weight="${n}"]`,filter:i=>!!(i.path&&i.path[1]==="font-weight"),rootName:"typography",tsBuildPath:_})),ho=Lo.map(({mode:e,slug:n})=>g({include:[s,b,d,R,O],source:[o.join(t,`üÖ∞Ô∏è Line height.${e}.json`)],buildPath:o.join(c,A),transforms:l,destination:`line-height-${n}.css`,selector:`[data-line-height="${n}"]`,filter:i=>!!(i.path&&i.path[1]==="line-height"),rootName:"typography",tsBuildPath:_})),To=$o.map(({mode:e,slug:n})=>g({include:[s,b,d,R,O],source:[o.join(t,`üÖ∞Ô∏è Tracking.${e}.json`)],buildPath:o.join(c,A),transforms:l,destination:`tracking-${n}.css`,selector:`[data-tracking="${n}"]`,filter:i=>!!(i.path&&i.path[1]==="tracking"),rootName:"typography",tsBuildPath:_}));await Promise.all([...Ao,...Co,...Io,...ho,...To])}const D=`${process.cwd()}/build`,X=`${D}/css`,k=`${D}/js`,oo=`${D}/json`;E.StyleDictionary.registerTransform(j.pxFormatted),E.StyleDictionary.registerTransform(j.pxTransform),E.StyleDictionary.registerTransform(j.pxToRem),E.StyleDictionary.registerTransform(j.fontQuote);async function U(){const a=`${process.cwd()}/tokens`;console.info("Running Style Dictionary build script"),console.info("Tokens directory:",a);const c=["name/kebab",j.PX_TO_REM_NAME,j.PX_FORMATTED_NAME,j.FONT_QUOTE_NAME];await B({tokensDir:a,cssBuildPath:X,cssTransforms:c})}U().then(()=>{console.log("‚úÖ Variables generated successfully")}).catch(a=>{console.error("‚ùå Error generating color variables:",a)}),p.cssBuildPath=X,p.generate=U,p.jsBuildPath=k,p.jsonBuildPath=oo,Object.defineProperty(p,Symbol.toStringTag,{value:"Module"})}));
